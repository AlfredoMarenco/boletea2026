import{c as he,u as pe,j as s,L as fe,H as ue}from"./app-3a1zVyYg.js";import{h as re}from"./dropdown-menu-BjiAHyZh.js";import{A as ge}from"./app-layout-LbgPTsmA.js";import{B as ne}from"./button-CCTVpx7q.js";import{I as M}from"./input-Cbbz1Og4.js";import{L as E}from"./label-CnCm2M92.js";import{T as xe}from"./textarea-DXyCXGUb.js";import{S as ie}from"./switch-DOXjhrx2.js";import{A as _e}from"./arrow-left-rihpn4TT.js";/* empty css            */import"./index-DJf_HriE.js";import"./tooltip-CtOJtrte.js";import"./index-BBoWCnVN.js";import"./index-Ds4w1HrZ.js";import"./map-pin-Ci-cQeSb.js";import"./index-Bpspx0Ne.js";const ce=[{key:"monday",label:"Lunes"},{key:"tuesday",label:"Martes"},{key:"wednesday",label:"Miércoles"},{key:"thursday",label:"Jueves"},{key:"friday",label:"Viernes"},{key:"saturday",label:"Sábado"},{key:"sunday",label:"Domingo"}];function Re(n){const e=he.c(95),{states:se}=n;let R;e[0]===Symbol.for("react.memo_cache_sentinel")?(R=ce.reduce(be,{}),e[0]=R):R=e[0];const de=R;let H;e[1]===Symbol.for("react.memo_cache_sentinel")?(H=[],e[1]=H):H=e[1];let T;e[2]===Symbol.for("react.memo_cache_sentinel")?(T={name:"",address:"",google_map_url:"",logo_path:null,is_active:!0,opening_hours:de,states:H},e[2]=T):T=e[2];const{data:t,setData:a,post:le,transform:te,processing:$,errors:o}=pe(T);let B;e[3]!==t.opening_hours||e[4]!==a?(B=(l,r,i)=>{a("opening_hours",{...t.opening_hours,[l]:{...t.opening_hours[l],[r]:i}})},e[3]=t.opening_hours,e[4]=a,e[5]=B):B=e[5];const G=B;let I;e[6]!==le||e[7]!==te?(I=l=>{l.preventDefault(),te(je),le(re("admin.sales-centers.store"))},e[6]=le,e[7]=te,e[8]=I):I=e[8];const ae=I;let J,q;e[9]===Symbol.for("react.memo_cache_sentinel")?(J=[{title:"Puntos de Venta",href:re("admin.sales-centers.index")},{title:"Nuevo",href:"#"}],q=s.jsx(ue,{title:"Nuevo Punto de Venta"}),e[9]=J,e[10]=q):(J=e[9],q=e[10]);let z;e[11]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(ne,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(fe,{href:re("admin.sales-centers.index"),children:s.jsx(_e,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Nuevo Punto de Venta"})]}),e[11]=z):z=e[11];let O;e[12]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(E,{htmlFor:"name",children:"Nombre"}),e[12]=O):O=e[12];let c;e[13]!==a?(c=l=>a("name",l.target.value),e[13]=a,e[14]=c):c=e[14];let d;e[15]!==t.name||e[16]!==c?(d=s.jsx(M,{id:"name",value:t.name,onChange:c,placeholder:"Ej. Taquilla Principal"}),e[15]=t.name,e[16]=c,e[17]=d):d=e[17];let m;e[18]!==o.name?(m=o.name&&s.jsx("span",{className:"text-red-500 text-sm",children:o.name}),e[18]=o.name,e[19]=m):m=e[19];let h;e[20]!==d||e[21]!==m?(h=s.jsxs("div",{className:"space-y-2",children:[O,d,m]}),e[20]=d,e[21]=m,e[22]=h):h=e[22];let U;e[23]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(E,{htmlFor:"logo",children:"Logo"}),e[23]=U):U=e[23];let p;e[24]!==a?(p=s.jsx(M,{id:"logo",type:"file",accept:"image/*",onChange:l=>a("logo_path",l.target.files?l.target.files[0]:null)}),e[24]=a,e[25]=p):p=e[25];let f;e[26]!==o.logo_path?(f=o.logo_path&&s.jsx("span",{className:"text-red-500 text-sm",children:o.logo_path}),e[26]=o.logo_path,e[27]=f):f=e[27];let u;e[28]!==p||e[29]!==f?(u=s.jsxs("div",{className:"space-y-2",children:[U,p,f]}),e[28]=p,e[29]=f,e[30]=u):u=e[30];let Y;e[31]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx(E,{htmlFor:"address",children:"Dirección"}),e[31]=Y):Y=e[31];let g;e[32]!==a?(g=l=>a("address",l.target.value),e[32]=a,e[33]=g):g=e[33];let x;e[34]!==t.address||e[35]!==g?(x=s.jsx(xe,{id:"address",value:t.address,onChange:g,placeholder:"Calle, Número, Colonia, Ciudad..."}),e[34]=t.address,e[35]=g,e[36]=x):x=e[36];let _;e[37]!==o.address?(_=o.address&&s.jsx("span",{className:"text-red-500 text-sm",children:o.address}),e[37]=o.address,e[38]=_):_=e[38];let j;e[39]!==x||e[40]!==_?(j=s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[Y,x,_]}),e[39]=x,e[40]=_,e[41]=j):j=e[41];let Q;e[42]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(E,{htmlFor:"map",children:"URL Google Maps"}),e[42]=Q):Q=e[42];let b;e[43]!==a?(b=l=>a("google_map_url",l.target.value),e[43]=a,e[44]=b):b=e[44];let v;e[45]!==t.google_map_url||e[46]!==b?(v=s.jsx(M,{id:"map",value:t.google_map_url,onChange:b,placeholder:"https://maps.google.com/..."}),e[45]=t.google_map_url,e[46]=b,e[47]=v):v=e[47];let W;e[48]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Copia el enlace de 'Compartir' en Google Maps."}),e[48]=W):W=e[48];let y;e[49]!==o.google_map_url?(y=o.google_map_url&&s.jsx("span",{className:"text-red-500 text-sm",children:o.google_map_url}),e[49]=o.google_map_url,e[50]=y):y=e[50];let N;e[51]!==v||e[52]!==y?(N=s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[Q,v,W,y]}),e[51]=v,e[52]=y,e[53]=N):N=e[53];let k;e[54]!==h||e[55]!==u||e[56]!==j||e[57]!==N?(k=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h,u,j,N]}),e[54]=h,e[55]=u,e[56]=j,e[57]=N,e[58]=k):k=e[58];let X;e[59]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx("h3",{className:"text-lg font-semibold",children:"Estados Relacionados"}),e[59]=X):X=e[59];let C;if(e[60]!==t.states||e[61]!==a||e[62]!==se){let l;e[64]!==t.states||e[65]!==a?(l=r=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ie,{id:`state-${r.id}`,checked:t.states.includes(r.id),onCheckedChange:i=>{i?a("states",[...t.states,r.id]):a("states",t.states.filter(me=>me!==r.id))}}),s.jsx(E,{htmlFor:`state-${r.id}`,children:r.name})]},r.id),e[64]=t.states,e[65]=a,e[66]=l):l=e[66],C=se.map(l),e[60]=t.states,e[61]=a,e[62]=se,e[63]=C}else C=e[63];let S;e[67]!==C?(S=s.jsxs("div",{className:"space-y-4",children:[X,s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 border rounded-lg bg-card/50",children:C})]}),e[67]=C,e[68]=S):S=e[68];let Z;e[69]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx("h3",{className:"text-lg font-semibold",children:"Horarios de Atención"}),e[69]=Z):Z=e[69];let w;e[70]!==t.opening_hours||e[71]!==G?(w=ce.map(l=>{const r=t.opening_hours[l.key]||{closed:!0};return s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border bg-background/50",children:[s.jsx("div",{className:"w-24 font-medium",children:l.label}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{checked:!r.closed,onCheckedChange:i=>G(l.key,"closed",!i)}),s.jsx("span",{className:"text-sm text-muted-foreground w-16",children:r.closed?"Cerrado":"Abierto"})]}),!r.closed&&s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(M,{type:"time",className:"w-32",value:r.open,onChange:i=>G(l.key,"open",i.target.value)}),s.jsx("span",{children:"a"}),s.jsx(M,{type:"time",className:"w-32",value:r.close,onChange:i=>G(l.key,"close",i.target.value)})]})]},l.key)}),e[70]=t.opening_hours,e[71]=G,e[72]=w):w=e[72];let L;e[73]!==w?(L=s.jsxs("div",{className:"space-y-4",children:[Z,s.jsx("div",{className:"grid gap-4",children:w})]}),e[73]=w,e[74]=L):L=e[74];let A;e[75]!==a?(A=l=>a("is_active",l),e[75]=a,e[76]=A):A=e[76];let F;e[77]!==t.is_active||e[78]!==A?(F=s.jsx(ie,{checked:t.is_active,onCheckedChange:A}),e[77]=t.is_active,e[78]=A,e[79]=F):F=e[79];let K;e[80]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(E,{children:"Punto de Venta Activo"}),e[80]=K):K=e[80];let P;e[81]!==F?(P=s.jsxs("div",{className:"flex items-center gap-2",children:[F,K]}),e[81]=F,e[82]=P):P=e[82];const oe=$?"Guardando...":"Guardar Punto de Venta";let V;e[83]!==$||e[84]!==oe?(V=s.jsx(ne,{type:"submit",disabled:$,children:oe}),e[83]=$,e[84]=oe,e[85]=V):V=e[85];let D;e[86]!==P||e[87]!==V?(D=s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[P,V]}),e[86]=P,e[87]=V,e[88]=D):D=e[88];let ee;return e[89]!==ae||e[90]!==k||e[91]!==S||e[92]!==L||e[93]!==D?(ee=s.jsxs(ge,{breadcrumbs:J,children:[q,s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[z,s.jsxs("form",{onSubmit:ae,className:"space-y-8 bg-card p-6 rounded-xl border shadow-sm",children:[k,S,L,D]})]})]}),e[89]=ae,e[90]=k,e[91]=S,e[92]=L,e[93]=D,e[94]=ee):ee=e[94],ee}function je(n){return{...n,opening_hours:JSON.stringify(n.opening_hours)}}function be(n,e){return n[e.key]={open:"09:00",close:"18:00",closed:!1},n}export{Re as default};
