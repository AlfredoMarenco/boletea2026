import{c as It,u as Dt,j as t,L as Ht,H as $t}from"./app-P7ni9Ck1.js";import{A as Bt}from"./app-layout-3jP3pDuh.js";import{h as yt}from"./dropdown-menu-BfpDrx6y.js";import{B as Ct}from"./button-Dfv9MMSu.js";import{I as be}from"./input-DkT3SUeg.js";import{L as c}from"./label-BwGRTqbZ.js";import{T as Rt}from"./textarea-HnPtFxVp.js";import{b as jt,c as bt,S as vt,a as Nt,d as Xe}from"./select-eAHWMgF4.js";import{C as Ft}from"./checkbox-LZpYXqXF.js";import{f as Gt}from"./format-CgHGABEn.js";/* empty css            */import"./index-DBZ_Ypgm.js";import"./tooltip-CGJ6_gT0.js";import"./index-CuD5wiCb.js";import"./index-Ds4w1HrZ.js";import"./map-pin-CiuxgL74.js";import"./index-Cllejh-C.js";import"./chevron-down-V3bFICGI.js";import"./check-C5SuXrAN.js";function ds(d){const e=It.c(215),{event:r,salesCenters:Se,salesCenterGroups:Ce,states:Fe,cities:St}=d;let we;e[0]!==Se?(we=Se===void 0?[]:Se,e[0]=Se,e[1]=we):we=e[1];const ve=we;let Te;e[2]!==Ce?(Te=Ce===void 0?[]:Ce,e[2]=Ce,e[3]=Te):Te=e[3];const Ne=Te;let Ee;e[4]!==Fe?(Ee=Fe===void 0?[]:Fe,e[4]=Fe,e[5]=Ee):Ee=e[5];const Ye=Ee,wt=St===void 0?[]:St,Ze=r.city||"",et=r,tt=r,st=r.category||"",at=r.image_path||"",lt=r.secondary_image_path||"";let h;e[6]!==r.sales_start_date?(h=r.sales_start_date?Gt(new Date(r.sales_start_date),"yyyy-MM-dd'T'HH:mm"):"",e[6]=r.sales_start_date,e[7]=h):h=e[7];const it=r.button_text||"",rt=r.description||"";let x;e[8]!==r.sales_centers?(x=r.sales_centers||[],e[8]=r.sales_centers,e[9]=x):x=e[9];let p;e[10]!==r?(p=r.sales_center_groups||[],e[10]=r,e[11]=p):p=e[11];let Le;e[12]!==r.status||e[13]!==tt.city_id||e[14]!==st||e[15]!==at||e[16]!==lt||e[17]!==h||e[18]!==it||e[19]!==rt||e[20]!==x||e[21]!==p||e[22]!==Ze||e[23]!==et.state_id?(Le={_method:"put",city:Ze,state_id:et.state_id,city_id:tt.city_id,category:st,image_path:at,secondary_image_path:lt,sales_start_date:h,button_text:it,description:rt,status:r.status,sales_centers:x,sales_center_groups:p},e[12]=r.status,e[13]=tt.city_id,e[14]=st,e[15]=at,e[16]=lt,e[17]=h,e[18]=it,e[19]=rt,e[20]=x,e[21]=p,e[22]=Ze,e[23]=et.state_id,e[24]=Le):Le=e[24];const{data:s,setData:i,post:ct,processing:dt,errors:a}=Dt(Le);let ke;e[25]!==r.id||e[26]!==ct?(ke=l=>{l.preventDefault(),ct(yt("admin.events.update",r.id))},e[25]=r.id,e[26]=ct,e[27]=ke):ke=e[27];const nt=ke;let Pe;e[28]!==s.secondary_image_path?(Pe=()=>typeof s.secondary_image_path=="string"&&s.secondary_image_path?t.jsx("img",{src:s.secondary_image_path,alt:"Preview",className:"w-[79px] h-[108px] object-cover rounded border"}):s.secondary_image_path instanceof File?t.jsx("img",{src:URL.createObjectURL(s.secondary_image_path),alt:"Preview",className:"w-[79px] h-[108px] object-cover rounded border"}):null,e[28]=s.secondary_image_path,e[29]=Pe):Pe=e[29];const ot=Pe,mt=Bt;let f;e[30]===Symbol.for("react.memo_cache_sentinel")?(f=[{title:"Eventos",href:yt("admin.events.index")},{title:"Editar Evento",href:"#"}],e[30]=f):f=e[30];const _t=`Editar ${r.title}`;let g;e[31]!==_t?(g=t.jsx($t,{title:_t}),e[31]=_t,e[32]=g):g=e[32];const Tt="p-6 max-w-4xl mx-auto",Et="bg-white p-6 rounded-lg shadow dark:bg-gray-900 border border-gray-200 dark:border-gray-700";let u;e[33]!==r.title?(u=t.jsxs("h1",{className:"text-2xl font-bold mb-6 text-gray-800 dark:text-gray-100",children:["Editar: ",r.title]}),e[33]=r.title,e[34]=u):u=e[34];const Lt="space-y-6",kt="multipart/form-data",Pt="grid grid-cols-1 md:grid-cols-2 gap-6";let Ve;e[35]===Symbol.for("react.memo_cache_sentinel")?(Ve=t.jsx(c,{htmlFor:"state_id",children:"Estado"}),e[35]=Ve):Ve=e[35];const ht=s.state_id?String(s.state_id):"";let y;e[36]!==i?(y=l=>{i(n=>({...n,state_id:Number(l),city_id:""}))},e[36]=i,e[37]=y):y=e[37];let Ie;e[38]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(vt,{children:t.jsx(Nt,{placeholder:"Selecciona un estado"})}),e[38]=Ie):Ie=e[38];let j;e[39]!==Ye?(j=Ye.map(At),e[39]=Ye,e[40]=j):j=e[40];let b;e[41]!==j?(b=t.jsx(jt,{children:j}),e[41]=j,e[42]=b):b=e[42];let v;e[43]!==ht||e[44]!==y||e[45]!==b?(v=t.jsxs(bt,{value:ht,onValueChange:y,children:[Ie,b]}),e[43]=ht,e[44]=y,e[45]=b,e[46]=v):v=e[46];let N;e[47]!==a.state_id?(N=a.state_id&&t.jsx("p",{className:"text-red-500 text-sm",children:a.state_id}),e[47]=a.state_id,e[48]=N):N=e[48];let S;e[49]!==v||e[50]!==N?(S=t.jsxs("div",{className:"space-y-2",children:[Ve,v,N]}),e[49]=v,e[50]=N,e[51]=S):S=e[51];const Vt="space-y-2";let C;e[52]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(c,{htmlFor:"city_id",children:"Ciudad"}),e[52]=C):C=e[52];const xt=bt,pt=s.city_id?String(s.city_id):"";let F;e[53]!==i?(F=l=>i("city_id",Number(l)),e[53]=i,e[54]=F):F=e[54];const ft=!s.state_id;let w;e[55]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(vt,{children:t.jsx(Nt,{placeholder:"Selecciona una ciudad"})}),e[55]=w):w=e[55];const gt=jt;let De;e[56]!==s.state_id?(De=l=>l.state_id===s.state_id,e[56]=s.state_id,e[57]=De):De=e[57];const ut=wt.filter(De).map(Mt);let T;e[58]!==gt||e[59]!==ut?(T=t.jsx(gt,{children:ut}),e[58]=gt,e[59]=ut,e[60]=T):T=e[60];let E;e[61]!==xt||e[62]!==pt||e[63]!==F||e[64]!==ft||e[65]!==w||e[66]!==T?(E=t.jsxs(xt,{value:pt,onValueChange:F,disabled:ft,children:[w,T]}),e[61]=xt,e[62]=pt,e[63]=F,e[64]=ft,e[65]=w,e[66]=T,e[67]=E):E=e[67];let L;e[68]!==a.city_id?(L=a.city_id&&t.jsx("p",{className:"text-red-500 text-sm",children:a.city_id}),e[68]=a.city_id,e[69]=L):L=e[69];let k;e[70]!==C||e[71]!==E||e[72]!==L?(k=t.jsxs("div",{className:Vt,children:[C,E,L]}),e[70]=C,e[71]=E,e[72]=L,e[73]=k):k=e[73];let He;e[74]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(c,{htmlFor:"city",children:"Ciudad (Texto Legacy)"}),e[74]=He):He=e[74];let P;e[75]!==i?(P=l=>i("city",l.target.value),e[75]=i,e[76]=P):P=e[76];let V;e[77]!==s.city||e[78]!==P?(V=t.jsx(be,{id:"city",value:s.city,onChange:P}),e[77]=s.city,e[78]=P,e[79]=V):V=e[79];let I;e[80]!==a.city?(I=a.city&&t.jsx("p",{className:"text-red-500 text-sm",children:a.city}),e[80]=a.city,e[81]=I):I=e[81];let D;e[82]!==V||e[83]!==I?(D=t.jsxs("div",{className:"space-y-2 hidden",children:[He,V,I]}),e[82]=V,e[83]=I,e[84]=D):D=e[84];let $e;e[85]===Symbol.for("react.memo_cache_sentinel")?($e=t.jsx(c,{htmlFor:"category",children:"Categoría"}),e[85]=$e):$e=e[85];let H;e[86]!==i?(H=l=>i("category",l.target.value),e[86]=i,e[87]=H):H=e[87];let $;e[88]!==s.category||e[89]!==H?($=t.jsx(be,{id:"category",value:s.category,onChange:H}),e[88]=s.category,e[89]=H,e[90]=$):$=e[90];let B;e[91]!==a.category?(B=a.category&&t.jsx("p",{className:"text-red-500 text-sm",children:a.category}),e[91]=a.category,e[92]=B):B=e[92];let R;e[93]!==$||e[94]!==B?(R=t.jsxs("div",{className:"space-y-2",children:[$e,$,B]}),e[93]=$,e[94]=B,e[95]=R):R=e[95];let G;e[96]!==S||e[97]!==k||e[98]!==D||e[99]!==R?(G=t.jsxs("div",{className:Pt,children:[S,k,D,R]}),e[96]=S,e[97]=k,e[98]=D,e[99]=R,e[100]=G):G=e[100];let Be;e[101]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx(c,{htmlFor:"image_path",children:"Imagen Principal (URL 500x400)"}),e[101]=Be):Be=e[101];let M;e[102]!==i?(M=l=>i("image_path",l.target.value),e[102]=i,e[103]=M):M=e[103];let A;e[104]!==s.image_path||e[105]!==M?(A=t.jsx(be,{id:"image_path",value:s.image_path,onChange:M,placeholder:"https://example.com/image.jpg"}),e[104]=s.image_path,e[105]=M,e[106]=A):A=e[106];let U;e[107]!==a.image_path?(U=a.image_path&&t.jsx("p",{className:"text-red-500 text-sm",children:a.image_path}),e[107]=a.image_path,e[108]=U):U=e[108];let O;e[109]!==s.image_path?(O=s.image_path&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vista Previa:"}),t.jsx("img",{src:s.image_path,alt:"Preview",className:"w-[125px] h-[100px] object-cover rounded border"})]}),e[109]=s.image_path,e[110]=O):O=e[110];let q;e[111]!==A||e[112]!==U||e[113]!==O?(q=t.jsxs("div",{className:"space-y-2",children:[Be,A,U,O]}),e[111]=A,e[112]=U,e[113]=O,e[114]=q):q=e[114];let Re;e[115]===Symbol.for("react.memo_cache_sentinel")?(Re=t.jsx(c,{htmlFor:"secondary_image_path",children:"Imagen Secundaria (Archivo 315x430)"}),e[115]=Re):Re=e[115];let z;e[116]!==i?(z=t.jsx(be,{id:"secondary_image_path",type:"file",accept:"image/*",onChange:l=>{l.target.files&&l.target.files[0]&&i("secondary_image_path",l.target.files[0])}}),e[116]=i,e[117]=z):z=e[117];let J;e[118]!==a.secondary_image_path?(J=a.secondary_image_path&&t.jsx("p",{className:"text-red-500 text-sm",children:a.secondary_image_path}),e[118]=a.secondary_image_path,e[119]=J):J=e[119];let Ge;e[120]===Symbol.for("react.memo_cache_sentinel")?(Ge=t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Vista Previa:"}),e[120]=Ge):Ge=e[120];let K;e[121]!==ot?(K=ot(),e[121]=ot,e[122]=K):K=e[122];let Q;e[123]!==K?(Q=t.jsxs("div",{className:"mt-2",children:[Ge,K]}),e[123]=K,e[124]=Q):Q=e[124];let W;e[125]!==z||e[126]!==J||e[127]!==Q?(W=t.jsxs("div",{className:"space-y-2",children:[Re,z,J,Q]}),e[125]=z,e[126]=J,e[127]=Q,e[128]=W):W=e[128];let X;e[129]!==q||e[130]!==W?(X=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[q,W]}),e[129]=q,e[130]=W,e[131]=X):X=e[131];let Me;e[132]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx(c,{htmlFor:"sales_start_date",children:"Inicio de Venta"}),e[132]=Me):Me=e[132];let Y;e[133]!==i?(Y=l=>i("sales_start_date",l.target.value),e[133]=i,e[134]=Y):Y=e[134];let Z;e[135]!==s.sales_start_date||e[136]!==Y?(Z=t.jsx(be,{id:"sales_start_date",type:"datetime-local",value:s.sales_start_date,onChange:Y}),e[135]=s.sales_start_date,e[136]=Y,e[137]=Z):Z=e[137];let Ae;e[138]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx("p",{className:"text-xs text-gray-500",children:"Dejar vacío para venta inmediata."}),e[138]=Ae):Ae=e[138];let ee;e[139]!==a.sales_start_date?(ee=a.sales_start_date&&t.jsx("p",{className:"text-red-500 text-sm",children:a.sales_start_date}),e[139]=a.sales_start_date,e[140]=ee):ee=e[140];let te;e[141]!==Z||e[142]!==ee?(te=t.jsxs("div",{className:"space-y-2",children:[Me,Z,Ae,ee]}),e[141]=Z,e[142]=ee,e[143]=te):te=e[143];let Ue;e[144]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsx(c,{htmlFor:"button_text",children:"Texto del Botón de Compra"}),e[144]=Ue):Ue=e[144];let se;e[145]!==i?(se=l=>i("button_text",l.target.value),e[145]=i,e[146]=se):se=e[146];let ae;e[147]!==s.button_text||e[148]!==se?(ae=t.jsx(be,{id:"button_text",value:s.button_text,onChange:se,placeholder:"Ej. Comprar Boletos (Default)"}),e[147]=s.button_text,e[148]=se,e[149]=ae):ae=e[149];let le;e[150]!==a.button_text?(le=a.button_text&&t.jsx("p",{className:"text-red-500 text-sm",children:a.button_text}),e[150]=a.button_text,e[151]=le):le=e[151];let ie;e[152]!==ae||e[153]!==le?(ie=t.jsxs("div",{className:"space-y-2",children:[Ue,ae,le]}),e[152]=ae,e[153]=le,e[154]=ie):ie=e[154];let re;e[155]!==te||e[156]!==ie?(re=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[te,ie]}),e[155]=te,e[156]=ie,e[157]=re):re=e[157];let Oe;e[158]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx(c,{htmlFor:"description",children:"Descripción (HTML)"}),e[158]=Oe):Oe=e[158];let ce;e[159]!==i?(ce=l=>i("description",l.target.value),e[159]=i,e[160]=ce):ce=e[160];let de;e[161]!==s.description||e[162]!==ce?(de=t.jsx(Rt,{id:"description",value:s.description,onChange:ce,className:"min-h-[200px] font-mono text-sm"}),e[161]=s.description,e[162]=ce,e[163]=de):de=e[163];let qe;e[164]===Symbol.for("react.memo_cache_sentinel")?(qe=t.jsx("p",{className:"text-xs text-gray-500",children:"Puedes usar HTML básico para dar formato."}),e[164]=qe):qe=e[164];let ne;e[165]!==a.description?(ne=a.description&&t.jsx("p",{className:"text-red-500 text-sm",children:a.description}),e[165]=a.description,e[166]=ne):ne=e[166];let oe;e[167]!==de||e[168]!==ne?(oe=t.jsxs("div",{className:"space-y-2",children:[Oe,de,qe,ne]}),e[167]=de,e[168]=ne,e[169]=oe):oe=e[169];let ze;e[170]===Symbol.for("react.memo_cache_sentinel")?(ze=t.jsx(c,{htmlFor:"status",children:"Estado"}),e[170]=ze):ze=e[170];let me;e[171]!==i?(me=l=>i("status",l),e[171]=i,e[172]=me):me=e[172];let Je;e[173]===Symbol.for("react.memo_cache_sentinel")?(Je=t.jsx(vt,{children:t.jsx(Nt,{placeholder:"Selecciona un estado"})}),e[173]=Je):Je=e[173];let Ke;e[174]===Symbol.for("react.memo_cache_sentinel")?(Ke=t.jsxs(jt,{children:[t.jsx(Xe,{value:"draft",children:"Borrador"}),t.jsx(Xe,{value:"published",children:"Publicado"})]}),e[174]=Ke):Ke=e[174];let _e;e[175]!==s.status||e[176]!==me?(_e=t.jsxs(bt,{value:s.status,onValueChange:me,children:[Je,Ke]}),e[175]=s.status,e[176]=me,e[177]=_e):_e=e[177];let he;e[178]!==a.status?(he=a.status&&t.jsx("p",{className:"text-red-500 text-sm",children:a.status}),e[178]=a.status,e[179]=he):he=e[179];let xe;e[180]!==a.status?(xe=a.status&&t.jsx("p",{className:"text-red-500 text-sm",children:a.status}),e[180]=a.status,e[181]=xe):xe=e[181];let pe;e[182]!==he||e[183]!==xe||e[184]!==_e?(pe=t.jsxs("div",{className:"space-y-2",children:[ze,_e,he,xe]}),e[182]=he,e[183]=xe,e[184]=_e,e[185]=pe):pe=e[185];let fe;e[186]!==s.sales_centers||e[187]!==ve||e[188]!==i?(fe=ve&&ve.length>0&&t.jsxs("div",{className:"space-y-4 border-t pt-4",children:[t.jsx(c,{children:"Centros de Venta Disponibles"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ve.map(l=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ft,{id:`center-${l.id}`,checked:s.sales_centers?.some(n=>Number(n)===l.id),onCheckedChange:n=>{const o=s.sales_centers||[],m=l.id;n?o.some(_=>Number(_)===m)||i("sales_centers",[...o,m]):i("sales_centers",o.filter(_=>Number(_)!==m))}}),t.jsx("label",{htmlFor:`center-${l.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:l.name})]},l.id))}),t.jsx("p",{className:"text-xs text-gray-500",children:"Selecciona los centros de venta físicos donde estarán disponibles los boletos para este evento."})]}),e[186]=s.sales_centers,e[187]=ve,e[188]=i,e[189]=fe):fe=e[189];let ge;e[190]!==s.sales_center_groups||e[191]!==Ne||e[192]!==i?(ge=Ne&&Ne.length>0&&t.jsxs("div",{className:"space-y-4 border-t pt-4",children:[t.jsx(c,{children:"Grupos de Centros de Venta"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ne.map(l=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ft,{id:`group-${l.id}`,checked:s.sales_center_groups?.some(n=>Number(n)===l.id),onCheckedChange:n=>{const o=s.sales_center_groups||[],m=l.id;n?o.some(_=>Number(_)===m)||i("sales_center_groups",[...o,m]):i("sales_center_groups",o.filter(_=>Number(_)!==m))}}),t.jsx("label",{htmlFor:`group-${l.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:l.name})]},l.id))}),t.jsx("p",{className:"text-xs text-gray-500",children:"Selecciona grupos predefinidos de puntos de venta."})]}),e[190]=s.sales_center_groups,e[191]=Ne,e[192]=i,e[193]=ge):ge=e[193];let Qe;e[194]===Symbol.for("react.memo_cache_sentinel")?(Qe=t.jsx(Ct,{type:"button",variant:"ghost",asChild:!0,children:t.jsx(Ht,{href:yt("admin.events.index"),children:"Cancelar"})}),e[194]=Qe):Qe=e[194];let ue;e[195]!==dt?(ue=t.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[Qe,t.jsx(Ct,{type:"submit",disabled:dt,children:"Guardar Cambios"})]}),e[195]=dt,e[196]=ue):ue=e[196];let ye;e[197]!==nt||e[198]!==pe||e[199]!==fe||e[200]!==ge||e[201]!==ue||e[202]!==G||e[203]!==X||e[204]!==re||e[205]!==oe?(ye=t.jsxs("form",{onSubmit:nt,className:Lt,encType:kt,children:[G,X,re,oe,pe,fe,ge,ue]}),e[197]=nt,e[198]=pe,e[199]=fe,e[200]=ge,e[201]=ue,e[202]=G,e[203]=X,e[204]=re,e[205]=oe,e[206]=ye):ye=e[206];let je;e[207]!==ye||e[208]!==u?(je=t.jsx("div",{className:Tt,children:t.jsxs("div",{className:Et,children:[u,ye]})}),e[207]=ye,e[208]=u,e[209]=je):je=e[209];let We;return e[210]!==mt||e[211]!==je||e[212]!==f||e[213]!==g?(We=t.jsxs(mt,{breadcrumbs:f,children:[g,je]}),e[210]=mt,e[211]=je,e[212]=f,e[213]=g,e[214]=We):We=e[214],We}function Mt(d){return t.jsx(Xe,{value:String(d.id),children:d.name},d.id)}function At(d){return t.jsx(Xe,{value:String(d.id),children:d.name},d.id)}export{ds as default};
