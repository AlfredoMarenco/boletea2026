import{c as H,u as A,j as t,L as I,H as z,r as M}from"./app-DY6XQSkc.js";import{A as P}from"./app-layout-BwpZQw_u.js";import{h as f}from"./dropdown-menu-BNMmQeLy.js";import{B as k}from"./button-BhJInusp.js";import{B as R}from"./badge-Dd-Nv3iH.js";import{S as F}from"./switch-B5IyH2gp.js";import{L as $}from"./label-Cq0o4QKc.js";import{T as C,a,b as D,c as h,d as q,e as G}from"./table-BTGZFcyw.js";/* empty css            */import"./utils-DvRnx1Xn.js";import"./index-Bc0Gev3e.js";import"./x-D7TKEL8f.js";import"./tooltip-Bn7OkLDR.js";import"./index-BHeX6-dc.js";import"./index-Bdyj2ZHa.js";import"./index-YfNXcXHS.js";import"./map-pin-BZBw0hfV.js";import"./index-DgOBhU24.js";function me(s){const e=H.c(34),{events:r,filters:L}=s,{post:S,processing:p}=A();let u;e[0]!==S?(u=()=>{S(f("admin.events.sync"))},e[0]=S,e[1]=u):u=e[1];const w=u,B=O;let j,b;e[2]===Symbol.for("react.memo_cache_sentinel")?(j=[{title:"Eventos Externos",href:f("admin.events.index")}],b=t.jsx(z,{title:"Administrar Eventos"}),e[2]=j,e[3]=b):(j=e[2],b=e[3]);let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Eventos Externos"}),e[4]=g):g=e[4];const T=L?.show_past;let l;e[5]!==T?(l=t.jsx(F,{id:"show-past",checked:T,onCheckedChange:B}),e[5]=T,e[6]=l):l=e[6];let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx($,{htmlFor:"show-past",className:"cursor-pointer text-sm font-medium",children:"Mostrar pasados"}),e[7]=y):y=e[7];let i;e[8]!==l?(i=t.jsxs("div",{className:"flex items-center gap-2 mr-2 border-r border-gray-200 dark:border-gray-700 pr-6",children:[l,y]}),e[8]=l,e[9]=i):i=e[9];let v;e[10]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(k,{asChild:!0,variant:"default",children:t.jsx(I,{href:f("admin.events.create"),children:"Crear Evento"})}),e[10]=v):v=e[10];const E=p?"Sincronizando...":"Sincronizar API";let o;e[11]!==w||e[12]!==p||e[13]!==E?(o=t.jsx(k,{onClick:w,disabled:p,variant:"outline",children:E}),e[11]=w,e[12]=p,e[13]=E,e[14]=o):o=e[14];let n;e[15]!==o||e[16]!==i?(n=t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g,t.jsxs("div",{className:"flex items-center gap-4",children:[i,v,o]})]}),e[15]=o,e[16]=i,e[17]=n):n=e[17];let _;e[18]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(D,{children:t.jsxs(C,{children:[t.jsx(h,{children:"ID"}),t.jsx(h,{children:"Imagen"}),t.jsx(h,{children:"TÃ­tulo"}),t.jsx(h,{children:"Ciudad"}),t.jsx(h,{children:"Estado"}),t.jsx(h,{className:"text-right",children:"Acciones"})]})}),e[18]=_):_=e[18];let d;e[19]!==r.data?(d=r.data&&r.data.length>0?r.data.map(K):t.jsx(C,{children:t.jsx(a,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No hay eventos registrados. Intenta sincronizar."})}),e[19]=r.data,e[20]=d):d=e[20];let c;e[21]!==d?(c=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(q,{children:[_,t.jsx(G,{children:d})]})}),e[21]=d,e[22]=c):c=e[22];let m;e[23]!==r.from||e[24]!==r.links||e[25]!==r.to||e[26]!==r.total?(m=r.total>0&&t.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:["Mostrando ",r.from," a ",r.to," de ",r.total," resultados"]}),t.jsx("div",{className:"flex gap-1",children:r.links.map(J)})]}),e[23]=r.from,e[24]=r.links,e[25]=r.to,e[26]=r.total,e[27]=m):m=e[27];let x;e[28]!==c||e[29]!==m?(x=t.jsxs("div",{className:"bg-white rounded-md shadow overflow-hidden dark:bg-gray-900 border border-gray-200 dark:border-gray-700 flex flex-col",children:[c,m]}),e[28]=c,e[29]=m,e[30]=x):x=e[30];let N;return e[31]!==n||e[32]!==x?(N=t.jsxs(P,{breadcrumbs:j,children:[b,t.jsxs("div",{className:"p-6",children:[n,x]})]}),e[31]=n,e[32]=x,e[33]=N):N=e[33],N}function J(s,e){return s.url?t.jsx(I,{href:s.url,className:`px-3 py-1 text-sm rounded-md transition-colors ${s.active?"bg-primary text-primary-foreground font-medium":"hover:bg-accent text-foreground"}`,dangerouslySetInnerHTML:{__html:s.label}},e):t.jsx("span",{className:"px-3 py-1 text-sm text-gray-400",dangerouslySetInnerHTML:{__html:s.label}},e)}function K(s){return t.jsxs(C,{children:[t.jsx(a,{children:s.id}),t.jsx(a,{children:t.jsx("img",{src:s.image_path||void 0,alt:s.title,className:"w-20 h-20 object-contain"})}),t.jsx(a,{className:"font-medium",children:s.title}),t.jsx(a,{children:s.city||"-"}),t.jsx(a,{children:t.jsx(R,{variant:s.status==="published"?"default":"secondary",children:s.status==="published"?"Publicado":"Borrador"})}),t.jsx(a,{className:"text-right",children:t.jsx(k,{asChild:!0,size:"sm",variant:"ghost",children:t.jsx(I,{href:f("admin.events.edit",s.id),children:"Editar"})})})]},s.id)}function O(s){M.get(f("admin.events.index"),{show_past:s},{preserveState:!0,preserveScroll:!0})}export{me as default};
