import{c as oe,u as re,j as s,L as ie,H as ne}from"./app-9MQGTqM4.js";import{i as ee}from"./dropdown-menu-CdgITtHJ.js";import{A as ce}from"./app-layout-C_O3JBnU.js";import{B as se}from"./button-BDClVvEC.js";import{I as F}from"./input-B_xfz8mg.js";import{L as G}from"./label-C5jUQFCL.js";import{T as me}from"./textarea-CT82vSO_.js";import{S as le}from"./switch-BQgco23e.js";import{A as de}from"./arrow-left-CxQrmSy7.js";/* empty css            */import"./index-B7SAstFF.js";import"./tooltip-BcWqTOwg.js";import"./index-B1qbJOyL.js";import"./index-Ds4w1HrZ.js";import"./map-pin-DIGLeYc5.js";import"./index-xD4-zXY0.js";const te=[{key:"monday",label:"Lunes"},{key:"tuesday",label:"Martes"},{key:"wednesday",label:"Miércoles"},{key:"thursday",label:"Jueves"},{key:"friday",label:"Viernes"},{key:"saturday",label:"Sábado"},{key:"sunday",label:"Domingo"}];function Pe(){const e=oe.c(83);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=te.reduce(he,{}),e[0]=n):n=e[0];const ae=n;let M;e[1]===Symbol.for("react.memo_cache_sentinel")?(M={name:"",address:"",google_map_url:"",logo_path:null,is_active:!0,opening_hours:ae},e[1]=M):M=e[1];const{data:t,setData:a,post:W,transform:X,processing:E,errors:o}=re(M);let H;e[2]!==t.opening_hours||e[3]!==a?(H=(l,r,i)=>{a("opening_hours",{...t.opening_hours,[l]:{...t.opening_hours[l],[r]:i}})},e[2]=t.opening_hours,e[3]=a,e[4]=H):H=e[4];const D=H;let R;e[5]!==W||e[6]!==X?(R=l=>{l.preventDefault(),X(pe),W(ee("admin.sales-centers.store"))},e[5]=W,e[6]=X,e[7]=R):R=e[7];const Z=R;let T,B;e[8]===Symbol.for("react.memo_cache_sentinel")?(T=[{title:"Puntos de Venta",href:ee("admin.sales-centers.index")},{title:"Nuevo",href:"#"}],B=s.jsx(ne,{title:"Nuevo Punto de Venta"}),e[8]=T,e[9]=B):(T=e[8],B=e[9]);let I;e[10]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(se,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(ie,{href:ee("admin.sales-centers.index"),children:s.jsx(de,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Nuevo Punto de Venta"})]}),e[10]=I):I=e[10];let J;e[11]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx(G,{htmlFor:"name",children:"Nombre"}),e[11]=J):J=e[11];let c;e[12]!==a?(c=l=>a("name",l.target.value),e[12]=a,e[13]=c):c=e[13];let m;e[14]!==t.name||e[15]!==c?(m=s.jsx(F,{id:"name",value:t.name,onChange:c,placeholder:"Ej. Taquilla Principal"}),e[14]=t.name,e[15]=c,e[16]=m):m=e[16];let d;e[17]!==o.name?(d=o.name&&s.jsx("span",{className:"text-red-500 text-sm",children:o.name}),e[17]=o.name,e[18]=d):d=e[18];let p;e[19]!==d||e[20]!==m?(p=s.jsxs("div",{className:"space-y-2",children:[J,m,d]}),e[19]=d,e[20]=m,e[21]=p):p=e[21];let q;e[22]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(G,{htmlFor:"logo",children:"Logo"}),e[22]=q):q=e[22];let h;e[23]!==a?(h=s.jsx(F,{id:"logo",type:"file",accept:"image/*",onChange:l=>a("logo_path",l.target.files?l.target.files[0]:null)}),e[23]=a,e[24]=h):h=e[24];let f;e[25]!==o.logo_path?(f=o.logo_path&&s.jsx("span",{className:"text-red-500 text-sm",children:o.logo_path}),e[25]=o.logo_path,e[26]=f):f=e[26];let u;e[27]!==h||e[28]!==f?(u=s.jsxs("div",{className:"space-y-2",children:[q,h,f]}),e[27]=h,e[28]=f,e[29]=u):u=e[29];let z;e[30]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx(G,{htmlFor:"address",children:"Dirección"}),e[30]=z):z=e[30];let g;e[31]!==a?(g=l=>a("address",l.target.value),e[31]=a,e[32]=g):g=e[32];let x;e[33]!==t.address||e[34]!==g?(x=s.jsx(me,{id:"address",value:t.address,onChange:g,placeholder:"Calle, Número, Colonia, Ciudad..."}),e[33]=t.address,e[34]=g,e[35]=x):x=e[35];let _;e[36]!==o.address?(_=o.address&&s.jsx("span",{className:"text-red-500 text-sm",children:o.address}),e[36]=o.address,e[37]=_):_=e[37];let j;e[38]!==x||e[39]!==_?(j=s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[z,x,_]}),e[38]=x,e[39]=_,e[40]=j):j=e[40];let O;e[41]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(G,{htmlFor:"map",children:"URL Google Maps"}),e[41]=O):O=e[41];let b;e[42]!==a?(b=l=>a("google_map_url",l.target.value),e[42]=a,e[43]=b):b=e[43];let v;e[44]!==t.google_map_url||e[45]!==b?(v=s.jsx(F,{id:"map",value:t.google_map_url,onChange:b,placeholder:"https://maps.google.com/..."}),e[44]=t.google_map_url,e[45]=b,e[46]=v):v=e[46];let U;e[47]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Copia el enlace de 'Compartir' en Google Maps."}),e[47]=U):U=e[47];let y;e[48]!==o.google_map_url?(y=o.google_map_url&&s.jsx("span",{className:"text-red-500 text-sm",children:o.google_map_url}),e[48]=o.google_map_url,e[49]=y):y=e[49];let N;e[50]!==v||e[51]!==y?(N=s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[O,v,U,y]}),e[50]=v,e[51]=y,e[52]=N):N=e[52];let k;e[53]!==p||e[54]!==u||e[55]!==j||e[56]!==N?(k=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p,u,j,N]}),e[53]=p,e[54]=u,e[55]=j,e[56]=N,e[57]=k):k=e[57];let Y;e[58]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx("h3",{className:"text-lg font-semibold",children:"Horarios de Atención"}),e[58]=Y):Y=e[58];let C;e[59]!==t.opening_hours||e[60]!==D?(C=te.map(l=>{const r=t.opening_hours[l.key]||{closed:!0};return s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border bg-background/50",children:[s.jsx("div",{className:"w-24 font-medium",children:l.label}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{checked:!r.closed,onCheckedChange:i=>D(l.key,"closed",!i)}),s.jsx("span",{className:"text-sm text-muted-foreground w-16",children:r.closed?"Cerrado":"Abierto"})]}),!r.closed&&s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(F,{type:"time",className:"w-32",value:r.open,onChange:i=>D(l.key,"open",i.target.value)}),s.jsx("span",{children:"a"}),s.jsx(F,{type:"time",className:"w-32",value:r.close,onChange:i=>D(l.key,"close",i.target.value)})]})]},l.key)}),e[59]=t.opening_hours,e[60]=D,e[61]=C):C=e[61];let S;e[62]!==C?(S=s.jsxs("div",{className:"space-y-4",children:[Y,s.jsx("div",{className:"grid gap-4",children:C})]}),e[62]=C,e[63]=S):S=e[63];let w;e[64]!==a?(w=l=>a("is_active",l),e[64]=a,e[65]=w):w=e[65];let L;e[66]!==t.is_active||e[67]!==w?(L=s.jsx(le,{checked:t.is_active,onCheckedChange:w}),e[66]=t.is_active,e[67]=w,e[68]=L):L=e[68];let $;e[69]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(G,{children:"Punto de Venta Activo"}),e[69]=$):$=e[69];let A;e[70]!==L?(A=s.jsxs("div",{className:"flex items-center gap-2",children:[L,$]}),e[70]=L,e[71]=A):A=e[71];const K=E?"Guardando...":"Guardar Punto de Venta";let P;e[72]!==E||e[73]!==K?(P=s.jsx(se,{type:"submit",disabled:E,children:K}),e[72]=E,e[73]=K,e[74]=P):P=e[74];let V;e[75]!==A||e[76]!==P?(V=s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[A,P]}),e[75]=A,e[76]=P,e[77]=V):V=e[77];let Q;return e[78]!==Z||e[79]!==k||e[80]!==S||e[81]!==V?(Q=s.jsxs(ce,{breadcrumbs:T,children:[B,s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[I,s.jsxs("form",{onSubmit:Z,className:"space-y-8 bg-card p-6 rounded-xl border shadow-sm",children:[k,S,V]})]})]}),e[78]=Z,e[79]=k,e[80]=S,e[81]=V,e[82]=Q):Q=e[82],Q}function pe(e){return{...e,opening_hours:JSON.stringify(e.opening_hours)}}function he(e,n){return e[n.key]={open:"09:00",close:"18:00",closed:!1},e}export{Pe as default};
