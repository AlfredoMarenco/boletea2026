import{c as _e,u as je,j as s,L as be,H as ve}from"./app-9MQGTqM4.js";import{i as he}from"./dropdown-menu-CdgITtHJ.js";import{A as ye}from"./app-layout-C_O3JBnU.js";import{B as fe}from"./button-BDClVvEC.js";import{I as G}from"./input-B_xfz8mg.js";import{L as I}from"./label-C5jUQFCL.js";import{T as Ne}from"./textarea-CT82vSO_.js";import{S as ge}from"./switch-BQgco23e.js";import{A as ke}from"./arrow-left-CxQrmSy7.js";/* empty css            */import"./index-B7SAstFF.js";import"./tooltip-BcWqTOwg.js";import"./index-B1qbJOyL.js";import"./index-Ds4w1HrZ.js";import"./map-pin-DIGLeYc5.js";import"./index-xD4-zXY0.js";const ue=[{key:"monday",label:"Lunes"},{key:"tuesday",label:"Martes"},{key:"wednesday",label:"Miércoles"},{key:"thursday",label:"Jueves"},{key:"friday",label:"Viernes"},{key:"saturday",label:"Sábado"},{key:"sunday",label:"Domingo"}];function Oe(r){const e=_e.c(104),{salesCenter:a}=r;let J;e[0]===Symbol.for("react.memo_cache_sentinel")?(J=ue.reduce(Ce,{}),e[0]=J):J=e[0];const xe=J;let O;e[1]!==a.opening_hours?(O={...xe,...a.opening_hours},e[1]=a.opening_hours,e[2]=O):O=e[2];const le=O,ae=a.name||"",oe=a.address||"",ie=a.google_map_url||"",re=!!a.is_active;let T;e[3]!==le||e[4]!==ae||e[5]!==oe||e[6]!==ie||e[7]!==re?(T={_method:"put",name:ae,address:oe,google_map_url:ie,logo_path:null,is_active:re,opening_hours:le},e[3]=le,e[4]=ae,e[5]=oe,e[6]=ie,e[7]=re,e[8]=T):T=e[8];const{data:l,setData:o,post:ne,transform:ce,processing:$,errors:i}=je(T);let U;e[9]!==l.opening_hours||e[10]!==o?(U=(t,n,c)=>{o("opening_hours",{...l.opening_hours,[t]:{...l.opening_hours[t],[n]:c}})},e[9]=l.opening_hours,e[10]=o,e[11]=U):U=e[11];const z=U;let Y;e[12]!==ne||e[13]!==a.id||e[14]!==ce?(Y=t=>{t.preventDefault(),ce(Se),ne(he("admin.sales-centers.update",a.id))},e[12]=ne,e[13]=a.id,e[14]=ce,e[15]=Y):Y=e[15];const me=Y;let q;e[16]===Symbol.for("react.memo_cache_sentinel")?(q=[{title:"Puntos de Venta",href:he("admin.sales-centers.index")},{title:"Editar",href:"#"}],e[16]=q):q=e[16];const de=`Editar ${a.name}`;let m;e[17]!==de?(m=s.jsx(ve,{title:de}),e[17]=de,e[18]=m):m=e[18];let Q;e[19]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(fe,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(be,{href:he("admin.sales-centers.index"),children:s.jsx(ke,{className:"h-5 w-5"})})}),e[19]=Q):Q=e[19];let d;e[20]!==a.name?(d=s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Q,s.jsxs("h1",{className:"text-2xl font-bold",children:["Editar: ",a.name]})]}),e[20]=a.name,e[21]=d):d=e[21];let W;e[22]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(I,{htmlFor:"name",children:"Nombre"}),e[22]=W):W=e[22];let p;e[23]!==o?(p=t=>o("name",t.target.value),e[23]=o,e[24]=p):p=e[24];let h;e[25]!==l.name||e[26]!==p?(h=s.jsx(G,{id:"name",value:l.name,onChange:p}),e[25]=l.name,e[26]=p,e[27]=h):h=e[27];let f;e[28]!==i.name?(f=i.name&&s.jsx("span",{className:"text-red-500 text-sm",children:i.name}),e[28]=i.name,e[29]=f):f=e[29];let g;e[30]!==h||e[31]!==f?(g=s.jsxs("div",{className:"space-y-2",children:[W,h,f]}),e[30]=h,e[31]=f,e[32]=g):g=e[32];let X;e[33]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx(I,{htmlFor:"logo",children:"Logo (Opcional)"}),e[33]=X):X=e[33];let u;e[34]!==a.logo_path?(u=a.logo_path&&s.jsx("img",{src:a.logo_path,className:"h-10 w-10 object-contain border rounded"}),e[34]=a.logo_path,e[35]=u):u=e[35];let x;e[36]!==o?(x=s.jsx(G,{id:"logo",type:"file",accept:"image/*",onChange:t=>o("logo_path",t.target.files?t.target.files[0]:null)}),e[36]=o,e[37]=x):x=e[37];let _;e[38]!==u||e[39]!==x?(_=s.jsxs("div",{className:"flex gap-4 items-center",children:[u,x]}),e[38]=u,e[39]=x,e[40]=_):_=e[40];let j;e[41]!==i.logo_path?(j=i.logo_path&&s.jsx("span",{className:"text-red-500 text-sm",children:i.logo_path}),e[41]=i.logo_path,e[42]=j):j=e[42];let b;e[43]!==_||e[44]!==j?(b=s.jsxs("div",{className:"space-y-2",children:[X,_,j]}),e[43]=_,e[44]=j,e[45]=b):b=e[45];let Z;e[46]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(I,{htmlFor:"address",children:"Dirección"}),e[46]=Z):Z=e[46];let v;e[47]!==o?(v=t=>o("address",t.target.value),e[47]=o,e[48]=v):v=e[48];let y;e[49]!==l.address||e[50]!==v?(y=s.jsx(Ne,{id:"address",value:l.address,onChange:v}),e[49]=l.address,e[50]=v,e[51]=y):y=e[51];let N;e[52]!==i.address?(N=i.address&&s.jsx("span",{className:"text-red-500 text-sm",children:i.address}),e[52]=i.address,e[53]=N):N=e[53];let k;e[54]!==y||e[55]!==N?(k=s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[Z,y,N]}),e[54]=y,e[55]=N,e[56]=k):k=e[56];let K;e[57]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(I,{htmlFor:"map",children:"URL Google Maps"}),e[57]=K):K=e[57];let S;e[58]!==o?(S=t=>o("google_map_url",t.target.value),e[58]=o,e[59]=S):S=e[59];let C;e[60]!==l.google_map_url||e[61]!==S?(C=s.jsx(G,{id:"map",value:l.google_map_url,onChange:S}),e[60]=l.google_map_url,e[61]=S,e[62]=C):C=e[62];let w;e[63]!==i.google_map_url?(w=i.google_map_url&&s.jsx("span",{className:"text-red-500 text-sm",children:i.google_map_url}),e[63]=i.google_map_url,e[64]=w):w=e[64];let A;e[65]!==C||e[66]!==w?(A=s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[K,C,w]}),e[65]=C,e[66]=w,e[67]=A):A=e[67];let L;e[68]!==g||e[69]!==b||e[70]!==k||e[71]!==A?(L=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g,b,k,A]}),e[68]=g,e[69]=b,e[70]=k,e[71]=A,e[72]=L):L=e[72];let ee;e[73]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx("h3",{className:"text-lg font-semibold",children:"Horarios de Atención"}),e[73]=ee):ee=e[73];let E;e[74]!==l.opening_hours||e[75]!==z?(E=ue.map(t=>{const n=l.opening_hours[t.key]||{closed:!0,open:"09:00",close:"18:00"};return s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border bg-background/50",children:[s.jsx("div",{className:"w-24 font-medium",children:t.label}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{checked:!n.closed,onCheckedChange:c=>z(t.key,"closed",!c)}),s.jsx("span",{className:"text-sm text-muted-foreground w-16",children:n.closed?"Cerrado":"Abierto"})]}),!n.closed&&s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(G,{type:"time",className:"w-32",value:n.open,onChange:c=>z(t.key,"open",c.target.value)}),s.jsx("span",{children:"a"}),s.jsx(G,{type:"time",className:"w-32",value:n.close,onChange:c=>z(t.key,"close",c.target.value)})]})]},t.key)}),e[74]=l.opening_hours,e[75]=z,e[76]=E):E=e[76];let D;e[77]!==E?(D=s.jsxs("div",{className:"space-y-4",children:[ee,s.jsx("div",{className:"grid gap-4",children:E})]}),e[77]=E,e[78]=D):D=e[78];let F;e[79]!==o?(F=t=>o("is_active",t),e[79]=o,e[80]=F):F=e[80];let H;e[81]!==l.is_active||e[82]!==F?(H=s.jsx(ge,{checked:l.is_active,onCheckedChange:F}),e[81]=l.is_active,e[82]=F,e[83]=H):H=e[83];let se;e[84]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(I,{children:"Punto de Venta Activo"}),e[84]=se):se=e[84];let V;e[85]!==H?(V=s.jsxs("div",{className:"flex items-center gap-2",children:[H,se]}),e[85]=H,e[86]=V):V=e[86];const pe=$?"Guardando...":"Actualizar Punto de Venta";let B;e[87]!==$||e[88]!==pe?(B=s.jsx(fe,{type:"submit",disabled:$,children:pe}),e[87]=$,e[88]=pe,e[89]=B):B=e[89];let M;e[90]!==V||e[91]!==B?(M=s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[V,B]}),e[90]=V,e[91]=B,e[92]=M):M=e[92];let P;e[93]!==me||e[94]!==L||e[95]!==D||e[96]!==M?(P=s.jsxs("form",{onSubmit:me,className:"space-y-8 bg-card p-6 rounded-xl border shadow-sm",children:[L,D,M]}),e[93]=me,e[94]=L,e[95]=D,e[96]=M,e[97]=P):P=e[97];let R;e[98]!==d||e[99]!==P?(R=s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[d,P]}),e[98]=d,e[99]=P,e[100]=R):R=e[100];let te;return e[101]!==m||e[102]!==R?(te=s.jsxs(ye,{breadcrumbs:q,children:[m,R]}),e[101]=m,e[102]=R,e[103]=te):te=e[103],te}function Se(r){return{...r,opening_hours:JSON.stringify(r.opening_hours)}}function Ce(r,e){return r[e.key]={open:"09:00",close:"18:00",closed:!1},r}export{Oe as default};
