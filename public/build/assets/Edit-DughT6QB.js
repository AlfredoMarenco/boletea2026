import{c as ke,u as Se,j as s,L as Ce,H as we}from"./app-P7ni9Ck1.js";import{h as _e}from"./dropdown-menu-BfpDrx6y.js";import{A as Ae}from"./app-layout-3jP3pDuh.js";import{B as be}from"./button-Dfv9MMSu.js";import{I as O}from"./input-DkT3SUeg.js";import{L as I}from"./label-BwGRTqbZ.js";import{T as Le}from"./textarea-HnPtFxVp.js";import{S as je}from"./switch-Bg0DY81m.js";import{A as Ee}from"./arrow-left-D3t4LDWE.js";/* empty css            */import"./index-DBZ_Ypgm.js";import"./tooltip-CGJ6_gT0.js";import"./index-CuD5wiCb.js";import"./index-Ds4w1HrZ.js";import"./map-pin-CiuxgL74.js";import"./index-Cllejh-C.js";const ve=[{key:"monday",label:"Lunes"},{key:"tuesday",label:"Martes"},{key:"wednesday",label:"Miércoles"},{key:"thursday",label:"Jueves"},{key:"friday",label:"Viernes"},{key:"saturday",label:"Sábado"},{key:"sunday",label:"Domingo"}];function We(n){const e=ke.c(118),{salesCenter:i,states:re}=n;let T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T=ve.reduce(He,{}),e[0]=T):T=e[0];const ye=T;let U;e[1]!==i.opening_hours?(U={...ye,...i.opening_hours},e[1]=i.opening_hours,e[2]=U):U=e[2];const ne=U,ce=i.name||"",de=i.address||"",me=i.google_map_url||"",he=!!i.is_active;let d;e[3]!==i.states?(d=i.states?i.states.map(De):[],e[3]=i.states,e[4]=d):d=e[4];let Y;e[5]!==ne||e[6]!==ce||e[7]!==de||e[8]!==me||e[9]!==he||e[10]!==d?(Y={_method:"put",name:ce,address:de,google_map_url:me,logo_path:null,is_active:he,opening_hours:ne,states:d},e[5]=ne,e[6]=ce,e[7]=de,e[8]=me,e[9]=he,e[10]=d,e[11]=Y):Y=e[11];const{data:l,setData:a,post:pe,transform:fe,processing:q,errors:o}=Se(Y);let Q;e[12]!==l.opening_hours||e[13]!==a?(Q=(t,r,c)=>{a("opening_hours",{...l.opening_hours,[t]:{...l.opening_hours[t],[r]:c}})},e[12]=l.opening_hours,e[13]=a,e[14]=Q):Q=e[14];const J=Q;let W;e[15]!==pe||e[16]!==i.id||e[17]!==fe?(W=t=>{t.preventDefault(),fe(Fe),pe(_e("admin.sales-centers.update",i.id))},e[15]=pe,e[16]=i.id,e[17]=fe,e[18]=W):W=e[18];const ge=W;let X;e[19]===Symbol.for("react.memo_cache_sentinel")?(X=[{title:"Puntos de Venta",href:_e("admin.sales-centers.index")},{title:"Editar",href:"#"}],e[19]=X):X=e[19];const ue=`Editar ${i.name}`;let m;e[20]!==ue?(m=s.jsx(we,{title:ue}),e[20]=ue,e[21]=m):m=e[21];let Z;e[22]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(be,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(Ce,{href:_e("admin.sales-centers.index"),children:s.jsx(Ee,{className:"h-5 w-5"})})}),e[22]=Z):Z=e[22];let h;e[23]!==i.name?(h=s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Z,s.jsxs("h1",{className:"text-2xl font-bold",children:["Editar: ",i.name]})]}),e[23]=i.name,e[24]=h):h=e[24];let K;e[25]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(I,{htmlFor:"name",children:"Nombre"}),e[25]=K):K=e[25];let p;e[26]!==a?(p=t=>a("name",t.target.value),e[26]=a,e[27]=p):p=e[27];let f;e[28]!==l.name||e[29]!==p?(f=s.jsx(O,{id:"name",value:l.name,onChange:p}),e[28]=l.name,e[29]=p,e[30]=f):f=e[30];let g;e[31]!==o.name?(g=o.name&&s.jsx("span",{className:"text-red-500 text-sm",children:o.name}),e[31]=o.name,e[32]=g):g=e[32];let u;e[33]!==f||e[34]!==g?(u=s.jsxs("div",{className:"space-y-2",children:[K,f,g]}),e[33]=f,e[34]=g,e[35]=u):u=e[35];let ee;e[36]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx(I,{htmlFor:"logo",children:"Logo (Opcional)"}),e[36]=ee):ee=e[36];let x;e[37]!==i.logo_path?(x=i.logo_path&&s.jsx("img",{src:i.logo_path,className:"h-10 w-10 object-contain border rounded"}),e[37]=i.logo_path,e[38]=x):x=e[38];let _;e[39]!==a?(_=s.jsx(O,{id:"logo",type:"file",accept:"image/*",onChange:t=>a("logo_path",t.target.files?t.target.files[0]:null)}),e[39]=a,e[40]=_):_=e[40];let j;e[41]!==x||e[42]!==_?(j=s.jsxs("div",{className:"flex gap-4 items-center",children:[x,_]}),e[41]=x,e[42]=_,e[43]=j):j=e[43];let b;e[44]!==o.logo_path?(b=o.logo_path&&s.jsx("span",{className:"text-red-500 text-sm",children:o.logo_path}),e[44]=o.logo_path,e[45]=b):b=e[45];let v;e[46]!==j||e[47]!==b?(v=s.jsxs("div",{className:"space-y-2",children:[ee,j,b]}),e[46]=j,e[47]=b,e[48]=v):v=e[48];let se;e[49]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(I,{htmlFor:"address",children:"Dirección"}),e[49]=se):se=e[49];let y;e[50]!==a?(y=t=>a("address",t.target.value),e[50]=a,e[51]=y):y=e[51];let N;e[52]!==l.address||e[53]!==y?(N=s.jsx(Le,{id:"address",value:l.address,onChange:y}),e[52]=l.address,e[53]=y,e[54]=N):N=e[54];let k;e[55]!==o.address?(k=o.address&&s.jsx("span",{className:"text-red-500 text-sm",children:o.address}),e[55]=o.address,e[56]=k):k=e[56];let S;e[57]!==N||e[58]!==k?(S=s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[se,N,k]}),e[57]=N,e[58]=k,e[59]=S):S=e[59];let te;e[60]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx(I,{htmlFor:"map",children:"URL Google Maps"}),e[60]=te):te=e[60];let C;e[61]!==a?(C=t=>a("google_map_url",t.target.value),e[61]=a,e[62]=C):C=e[62];let w;e[63]!==l.google_map_url||e[64]!==C?(w=s.jsx(O,{id:"map",value:l.google_map_url,onChange:C}),e[63]=l.google_map_url,e[64]=C,e[65]=w):w=e[65];let A;e[66]!==o.google_map_url?(A=o.google_map_url&&s.jsx("span",{className:"text-red-500 text-sm",children:o.google_map_url}),e[66]=o.google_map_url,e[67]=A):A=e[67];let L;e[68]!==w||e[69]!==A?(L=s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[te,w,A]}),e[68]=w,e[69]=A,e[70]=L):L=e[70];let E;e[71]!==u||e[72]!==v||e[73]!==S||e[74]!==L?(E=s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u,v,S,L]}),e[71]=u,e[72]=v,e[73]=S,e[74]=L,e[75]=E):E=e[75];let le;e[76]===Symbol.for("react.memo_cache_sentinel")?(le=s.jsx("h3",{className:"text-lg font-semibold",children:"Estados Relacionados"}),e[76]=le):le=e[76];let F;if(e[77]!==l.states||e[78]!==a||e[79]!==re){let t;e[81]!==l.states||e[82]!==a?(t=r=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(je,{id:`state-${r.id}`,checked:l.states.includes(r.id),onCheckedChange:c=>{c?a("states",[...l.states,r.id]):a("states",l.states.filter(Ne=>Ne!==r.id))}}),s.jsx(I,{htmlFor:`state-${r.id}`,children:r.name})]},r.id),e[81]=l.states,e[82]=a,e[83]=t):t=e[83],F=re.map(t),e[77]=l.states,e[78]=a,e[79]=re,e[80]=F}else F=e[80];let D;e[84]!==F?(D=s.jsxs("div",{className:"space-y-4",children:[le,s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 border rounded-lg bg-card/50",children:F})]}),e[84]=F,e[85]=D):D=e[85];let ae;e[86]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx("h3",{className:"text-lg font-semibold",children:"Horarios de Atención"}),e[86]=ae):ae=e[86];let H;e[87]!==l.opening_hours||e[88]!==J?(H=ve.map(t=>{const r=l.opening_hours[t.key]||{closed:!0,open:"09:00",close:"18:00"};return s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border bg-background/50",children:[s.jsx("div",{className:"w-24 font-medium",children:t.label}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(je,{checked:!r.closed,onCheckedChange:c=>J(t.key,"closed",!c)}),s.jsx("span",{className:"text-sm text-muted-foreground w-16",children:r.closed?"Cerrado":"Abierto"})]}),!r.closed&&s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx(O,{type:"time",className:"w-32",value:r.open,onChange:c=>J(t.key,"open",c.target.value)}),s.jsx("span",{children:"a"}),s.jsx(O,{type:"time",className:"w-32",value:r.close,onChange:c=>J(t.key,"close",c.target.value)})]})]},t.key)}),e[87]=l.opening_hours,e[88]=J,e[89]=H):H=e[89];let R;e[90]!==H?(R=s.jsxs("div",{className:"space-y-4",children:[ae,s.jsx("div",{className:"grid gap-4",children:H})]}),e[90]=H,e[91]=R):R=e[91];let V;e[92]!==a?(V=t=>a("is_active",t),e[92]=a,e[93]=V):V=e[93];let $;e[94]!==l.is_active||e[95]!==V?($=s.jsx(je,{checked:l.is_active,onCheckedChange:V}),e[94]=l.is_active,e[95]=V,e[96]=$):$=e[96];let ie;e[97]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(I,{children:"Punto de Venta Activo"}),e[97]=ie):ie=e[97];let B;e[98]!==$?(B=s.jsxs("div",{className:"flex items-center gap-2",children:[$,ie]}),e[98]=$,e[99]=B):B=e[99];const xe=q?"Guardando...":"Actualizar Punto de Venta";let M;e[100]!==q||e[101]!==xe?(M=s.jsx(be,{type:"submit",disabled:q,children:xe}),e[100]=q,e[101]=xe,e[102]=M):M=e[102];let P;e[103]!==B||e[104]!==M?(P=s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[B,M]}),e[103]=B,e[104]=M,e[105]=P):P=e[105];let z;e[106]!==ge||e[107]!==E||e[108]!==D||e[109]!==R||e[110]!==P?(z=s.jsxs("form",{onSubmit:ge,className:"space-y-8 bg-card p-6 rounded-xl border shadow-sm",children:[E,D,R,P]}),e[106]=ge,e[107]=E,e[108]=D,e[109]=R,e[110]=P,e[111]=z):z=e[111];let G;e[112]!==h||e[113]!==z?(G=s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[h,z]}),e[112]=h,e[113]=z,e[114]=G):G=e[114];let oe;return e[115]!==m||e[116]!==G?(oe=s.jsxs(Ae,{breadcrumbs:X,children:[m,G]}),e[115]=m,e[116]=G,e[117]=oe):oe=e[117],oe}function Fe(n){return{...n,opening_hours:JSON.stringify(n.opening_hours)}}function De(n){return n.id}function He(n,e){return n[e.key]={open:"09:00",close:"18:00",closed:!1},n}export{We as default};
