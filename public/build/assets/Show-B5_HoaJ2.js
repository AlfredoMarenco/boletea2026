import{c as oe,b as u,j as t,H as de}from"./app-DbXiCZMg.js";import{B as me}from"./badge-T7drMfP4.js";import{B as ne}from"./button-DmrE09fV.js";import{P as xe}from"./public-header-A6SDfvEF.js";import{C as fe,e as X,i as he}from"./calendar-D-JVPkzY.js";import{T as ge,a as pe,b as be}from"./tooltip-D6ZvH_v2.js";import{C as ye}from"./calendar-DeRmAqLQ.js";import{T as ue}from"./ticket-DY4npQFH.js";import{M as ee}from"./map-pin--p80ZGBn.js";import{f as b}from"./format-CgHGABEn.js";/* empty css            */import"./utils-DvRnx1Xn.js";import"./dropdown-menu-CVLY-dEU.js";import"./index-B9c4hwPt.js";import"./sun-ej23YKhW.js";import"./chevron-left-CvWE1Qgn.js";import"./index-0IuQ-K5j.js";function je(l){const e=oe.c(13),{targetDate:a,onComplete:m}=l;let h;e[0]!==m||e[1]!==a?(h=()=>{const n=+new Date(a)-+new Date;let o={};return n>0&&(o={days:Math.floor(n/864e5),hours:Math.floor(n/36e5%24),minutes:Math.floor(n/1e3/60%60),seconds:Math.floor(n/1e3%60)}),o},e[0]=m,e[1]=a,e[2]=h):h=e[2];const c=h;let g;e[3]!==c?(g=c(),e[3]=c,e[4]=g):g=e[4];const[s,j]=u.useState(g),[d,te]=u.useState(!1);let i;e[5]!==c||e[6]!==d||e[7]!==m?(i=()=>{if(d)return;const n=setTimeout(()=>{const o=c();j(o),Object.keys(o).length===0&&(te(!0),m&&m())},1e3);return()=>clearTimeout(n)},e[5]=c,e[6]=d,e[7]=m,e[8]=i):i=e[8],u.useEffect(i);let p;if(e[9]!==s){const n=[];Object.keys(s).forEach(o=>{const y=o;!s[y]&&s[y]!==0||n.push(t.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-100 rounded-lg dark:bg-white/5",children:[t.jsx("span",{className:"text-xl font-bold font-mono text-[#c90000]",children:(s[y]||0).toString().padStart(2,"0")}),t.jsx("span",{className:"text-xs uppercase text-gray-500",children:o})]},o))}),p=n.length?n:t.jsx("span",{children:"¡Ya disponible!"}),e[9]=s,e[10]=p}else p=e[10];let f;return e[11]!==p?(f=t.jsx(t.Fragment,{children:p}),e[11]=p,e[12]=f):f=e[12],f}function Oe(l){const e=oe.c(96),{event:a,salesCentersDetails:m}=l;let h;e[0]!==m?(h=m===void 0?[]:m,e[0]=m,e[1]=h):h=e[1];const c=h;let g;e[2]!==a.raw_data?(g=Array.isArray(a.raw_data)?a.raw_data:a.raw_data?[a.raw_data]:[],e[2]=a.raw_data,e[3]=g):g=e[3];const s=g;let j;e[4]!==s[0]||e[5]!==s.length?(j=s.length===1?s[0].PerformanceID.toString():void 0,e[4]=s[0],e[5]=s.length,e[6]=j):j=e[6];const[d,te]=u.useState(j),[i,p]=u.useState(void 0);let f;e[7]!==s?(f=new Set,s.forEach(r=>{f.add(b(new Date(r.PerformanceDateTime),"yyyy-MM-dd"))}),e[7]=s,e[8]=f):f=e[8];const n=f;let o;e:{if(!i){let x;e[9]===Symbol.for("react.memo_cache_sentinel")?(x=[],e[9]=x):x=e[9],o=x;break e}let r;if(e[10]!==s||e[11]!==i){let x;e[13]!==i?(x=ce=>he(new Date(ce.PerformanceDateTime),i),e[13]=i,e[14]=x):x=e[14],r=s.filter(x).sort(we),e[10]=s,e[11]=i,e[12]=r}else r=e[12];o=r}const y=o;let U;e[15]!==a.sales_start_date?(U=!a.sales_start_date||new Date(a.sales_start_date)<=new Date,e[15]=a.sales_start_date,e[16]=U):U=e[16];const[ae,ie]=u.useState(U);let Y,Z;e[17]!==a.sales_start_date?(Y=()=>{a.sales_start_date&&new Date(a.sales_start_date)<=new Date&&ie(!0)},Z=[a.sales_start_date],e[17]=a.sales_start_date,e[18]=Y,e[19]=Z):(Y=e[18],Z=e[19]),u.useEffect(Y,Z);let q;e[20]!==d?(q=()=>{d&&(window.location.href=`https://boletea.com.mx/ordertickets.asp?p=${d}`)},e[20]=d,e[21]=q):q=e[21];const se=q,le=`${a.title} - Boletea`;let _;e[22]!==le?(_=t.jsx(de,{title:le}),e[22]=le,e[23]=_):_=e[23];let G;e[24]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(xe,{}),e[24]=G):G=e[24];let N;e[25]!==a.image_path||e[26]!==a.title?(N=a.image_path?t.jsx("img",{src:a.image_path,alt:a.title,className:"h-full w-full object-cover opacity-60"}):t.jsx("div",{className:"h-full w-full bg-gradient-to-br from-gray-800 to-black"}),e[25]=a.image_path,e[26]=a.title,e[27]=N):N=e[27];let J;e[28]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a]/50 to-transparent"}),e[28]=J):J=e[28];let w;e[29]!==N?(w=t.jsxs("div",{className:"absolute inset-0 z-0",children:[N,J]}),e[29]=N,e[30]=w):w=e[30];let v;e[31]!==a.category?(v=a.category&&t.jsx(me,{className:"bg-[#c90000] text-white hover:bg-[#a00000] border-none text-xs px-2.5 py-0.5",children:a.category}),e[31]=a.category,e[32]=v):v=e[32];let k;if(e[33]!==a.title){let r;e[35]===Symbol.for("react.memo_cache_sentinel")?(r=/^[A-Z0-9]+\s+/,e[35]=r):r=e[35],k=a.title.replace(r,""),e[33]=a.title,e[34]=k}else k=e[34];let D;e[36]!==k?(D=t.jsx("h1",{className:"text-3xl font-black leading-tight tracking-tight text-white md:text-5xl lg:text-6xl xl:text-7xl",children:k}),e[36]=k,e[37]=D):D=e[37];let S;e[38]!==s[0]||e[39]!==s.length?(S=s.length>0&&t.jsxs("div",{className:"flex flex-col items-center justify-center bg-white rounded-xl p-2 min-w-[60px] shadow-lg",children:[t.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest leading-none",children:b(new Date(s[0].PerformanceDateTime),"MMM",{locale:X}).replace(".","")}),t.jsx("span",{className:"text-2xl font-extrabold text-[#c90000] leading-none",children:b(new Date(s[0].PerformanceDateTime),"dd")})]}),e[38]=s[0],e[39]=s.length,e[40]=S):S=e[40];let K;e[41]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(ee,{className:"size-5 text-[#c90000]"}),e[41]=K):K=e[41];const re=a.venue?.name||a.city||"Ubicación por confirmar";let T;e[42]!==re?(T=t.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold",children:[K,t.jsx("span",{children:re})]}),e[42]=re,e[43]=T):T=e[43];let P;e[44]!==a.city?(P=t.jsx("span",{className:"text-sm text-gray-300 ml-7",children:a.city}),e[44]=a.city,e[45]=P):P=e[45];let M;e[46]!==T||e[47]!==P?(M=t.jsxs("div",{className:"flex flex-col text-white",children:[T,P]}),e[46]=T,e[47]=P,e[48]=M):M=e[48];let C;e[49]!==S||e[50]!==M?(C=t.jsx("div",{className:"flex flex-col gap-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[S,M]})}),e[49]=S,e[50]=M,e[51]=C):C=e[51];let E;e[52]!==v||e[53]!==D||e[54]!==C?(E=t.jsxs("div",{className:"flex flex-col items-start gap-4 md:max-w-4xl",children:[v,D,C]}),e[52]=v,e[53]=D,e[54]=C,e[55]=E):E=e[55];let z;e[56]!==a.secondary_image_path||e[57]!==a.title?(z=a.secondary_image_path&&t.jsx("div",{className:"hidden md:block shrink-0 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-300",children:t.jsx("img",{src:a.secondary_image_path,alt:`Poster ${a.title}`,className:"h-auto w-56 rounded-lg border-[4px] border-white/10 object-cover mt-10 shadow-xl backdrop-blur-sm lg:w-72"})}),e[56]=a.secondary_image_path,e[57]=a.title,e[58]=z):z=e[58];let H;e[59]!==E||e[60]!==z?(H=t.jsx("div",{className:"container relative z-10 mx-auto flex h-full flex-col justify-end px-6 pb-8 md:pb-12 lg:pb-16",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-end justify-between gap-6",children:[E,z]})}),e[59]=E,e[60]=z,e[61]=H):H=e[61];let B;e[62]!==w||e[63]!==H?(B=t.jsxs("div",{className:"relative min-h-[50vh] flex flex-col justify-end w-full overflow-hidden bg-gray-900",children:[w,H]}),e[62]=w,e[63]=H,e[64]=B):B=e[64];let Q;e[65]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("h2",{className:"mb-4 text-2xl font-bold lg:text-3xl",children:"Acerca del evento"}),e[65]=Q):Q=e[65];let I;e[66]!==a.description?(I=a.description?(()=>{try{const r=document.createElement("textarea");return r.innerHTML=a.description,r.value}catch{return a.description}})():"Sin descripción disponible.",e[66]=a.description,e[67]=I):I=e[67];let L;e[68]!==I?(L=t.jsxs("section",{children:[Q,t.jsx("div",{className:"prose prose-lg dark:prose-invert text-gray-600 dark:text-gray-300 max-w-none",dangerouslySetInnerHTML:{__html:I}})]}),e[68]=I,e[69]=L):L=e[69];let $;e[70]!==c?($=c&&c.length>0&&t.jsxs("section",{children:[t.jsx("h3",{className:"mb-4 text-2xl font-bold lg:text-3xl",children:"Puntos de venta autorizados"}),t.jsx("div",{className:"flex flex-wrap gap-8 items-center",children:c.map(_e)})]}),e[70]=c,e[71]=$):$=e[71];let A;e[72]!==L||e[73]!==$?(A=t.jsxs("div",{className:"lg:col-span-2 space-y-8 lg:space-y-10",children:[L,$]}),e[72]=L,e[73]=$,e[74]=A):A=e[74];let V;e[75]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("h3",{className:"mb-6 text-xl font-bold",children:"Reserva tus Boletos"}),e[75]=V):V=e[75];let F;e[76]!==y||e[77]!==a.button_text||e[78]!==a.sales_start_date||e[79]!==se||e[80]!==ae||e[81]!==n||e[82]!==s[0]||e[83]!==s.length||e[84]!==i||e[85]!==d?(F=t.jsx("div",{className:"relative",children:t.jsxs("div",{className:"sticky top-24 rounded-2xl border border-gray-200 bg-white p-6 shadow-xl dark:border-gray-800 dark:bg-[#111]",children:[V,!ae&&a.sales_start_date?t.jsxs("div",{className:"space-y-6 text-center animate-in fade-in slide-in-from-bottom-4",children:[t.jsxs("div",{className:"rounded-xl bg-[#c90000]/5 p-6 border border-[#c90000]/10",children:[t.jsx("h4",{className:"text-lg font-bold text-[#c90000] mb-2",children:"Próximamente a la venta"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"La venta de boletos comenzará el:"}),t.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:b(new Date(a.sales_start_date),"d 'de' MMMM 'a las' h:mm a",{locale:X})}),t.jsx("div",{className:"grid grid-cols-4 gap-2 text-center",children:t.jsx(je,{targetDate:a.sales_start_date,onComplete:()=>ie(!0)})})]}),t.jsx(ne,{disabled:!0,className:"w-full h-12 text-lg font-bold bg-gray-200 text-gray-400 dark:bg-gray-800 dark:text-gray-600",children:"Próximamente"})]}):t.jsxs("div",{className:"space-y-6",children:[s.length>1?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Selecciona una fecha"}),t.jsx("div",{className:"flex justify-center",children:t.jsx(fe,{mode:"single",selected:i,onSelect:p,disabled:r=>{const x=b(r,"yyyy-MM-dd");return!n.has(x)},defaultMonth:s.length>0?new Date(s[0].PerformanceDateTime):void 0,className:"rounded-xl border border-gray-100 bg-white shadow-sm dark:bg-[#1a1a1a] dark:border-gray-800",locale:X})})]}),i&&t.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Horarios disponibles"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map(r=>t.jsx("button",{onClick:()=>te(r.PerformanceID.toString()),className:`
                                                                px-4 py-2 text-sm font-medium rounded-md border transition-all
                                                                ${d===r.PerformanceID.toString()?"bg-[#c90000] text-white border-[#c90000] shadow-md":"bg-white text-gray-700 border-gray-200 hover:border-[#c90000] hover:text-[#c90000] dark:bg-[#222] dark:text-gray-300 dark:border-gray-700"}
                                                            `,children:b(new Date(r.PerformanceDateTime),"h:mm a")},r.PerformanceID))})]})]}):s.length===1?t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Fecha y Hora del Evento"}),t.jsxs("div",{className:"flex items-center gap-4 rounded-xl border border-gray-200 bg-gray-50 p-4 dark:border-gray-800 dark:bg-white/5",children:[t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-[#c90000]/10 text-[#c90000]",children:t.jsx(ye,{className:"size-6"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-gray-900 dark:text-white lowercase first-letter:uppercase",children:b(new Date(s[0].PerformanceDateTime),"EEEE d 'de' MMMM",{locale:X})}),t.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Horario: ",b(new Date(s[0].PerformanceDateTime),"h:mm a")]})]})]})]}):t.jsx("div",{className:"p-4 text-center text-gray-500",children:"No hay funciones disponibles actualmente."}),t.jsxs(ne,{className:"w-full h-12 text-lg font-bold bg-[#c90000] hover:bg-[#a00000] text-white shadow-lg shadow-red-600/20",onClick:se,disabled:!d,children:[t.jsx(ue,{className:"mr-2 h-5 w-5"}),a.button_text||"Comprar Boletos"]}),t.jsx("p",{className:"text-xs text-center text-gray-400",children:"Pagos procesados de forma segura"})]})]})}),e[76]=y,e[77]=a.button_text,e[78]=a.sales_start_date,e[79]=se,e[80]=ae,e[81]=n,e[82]=s[0],e[83]=s.length,e[84]=i,e[85]=d,e[86]=F):F=e[86];let O;e[87]!==A||e[88]!==F?(O=t.jsxs("div",{className:"container mx-auto grid grid-cols-1 gap-8 px-6 py-8 lg:grid-cols-3 lg:gap-10 lg:py-10",children:[A,F]}),e[87]=A,e[88]=F,e[89]=O):O=e[89];let R;e[90]!==B||e[91]!==O?(R=t.jsxs("main",{className:"pt-20",children:[B,O]}),e[90]=B,e[91]=O,e[92]=R):R=e[92];let W;return e[93]!==_||e[94]!==R?(W=t.jsxs("div",{className:"min-h-screen bg-white text-gray-900 dark:bg-[#0a0a0a] dark:text-gray-100 font-sans",children:[_,G,R]}),e[93]=_,e[94]=R,e[95]=W):W=e[95],W}function _e(l,e){return t.jsxs(ge,{children:[t.jsx(pe,{asChild:!0,children:t.jsx("a",{href:l.google_map_url||"#",target:l.google_map_url?"_blank":"_self",rel:"noopener noreferrer",className:`
                                                        group relative flex h-24 w-40 items-center justify-center rounded-xl border border-gray-100 bg-white p-4 shadow-sm transition-all hover:-translate-y-1 hover:shadow-md dark:border-gray-800 dark:bg-white/5
                                                        ${l.google_map_url?"cursor-pointer hover:border-[#c90000]/30":"cursor-default"}
                                                    `,children:l.is_legacy?t.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[t.jsx(ee,{className:"size-6 text-gray-400 group-hover:text-[#c90000] transition-colors"}),t.jsx("span",{className:"text-xs font-bold leading-tight text-gray-700 dark:text-gray-300 line-clamp-2",children:l.name})]}):l.logo_path?t.jsx("img",{src:l.logo_path,alt:l.name,className:"h-full w-full object-contain p-2"}):t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(ee,{className:"size-6 text-[#c90000]"}),t.jsx("span",{className:"text-xs font-bold text-center line-clamp-2",children:l.name})]})})}),t.jsx(be,{className:"max-w-xs p-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 shadow-xl z-50",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-bold text-base",children:l.name}),l.address&&t.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-500 dark:text-gray-400",children:[t.jsx(ee,{className:"size-4 shrink-0 mt-0.5"}),t.jsx("span",{children:l.address})]}),l.opening_hours&&Array.isArray(l.opening_hours)&&l.opening_hours.length>0&&t.jsxs("div",{className:"pt-2 border-t border-gray-100 dark:border-gray-700 mt-2",children:[t.jsx("p",{className:"text-xs font-semibold mb-1 text-gray-500",children:"Horario"}),t.jsx("ul",{className:"text-xs space-y-0.5",children:l.opening_hours.map(Ne)})]})]})})]},e)}function Ne(l,e){return t.jsx("li",{children:l},e)}function we(l,e){return new Date(l.PerformanceDateTime).getTime()-new Date(e.PerformanceDateTime).getTime()}export{Oe as default};
